
<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Testing my JSON script on the Iforgot app</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h3>Receiving data, parsing it to JavaScript object.<br>
        Using the JSON.parse(); method.
    </h3>
        <p id="testJson"> </p>
        <hr>
        <h3>Store and retrieve data.</h3>
        <p id="otherJSON"> </p>
        <hr>
        <h3>JSON object</h3>
        <p id="JSONobj"></p>
        <hr>
        <h3>JSON arrays</h3>
        <p id="JSONarray"></p>
        <h3>Array loop</h3>
        <p id="arrayLoop"></p>
        <hr>
        <h3>Now converting a JavaScript object into string using<br>
            the JSON.stringify(); method.
        </h3>
        <p id="string"></p>

<script>//we run this script on a browser
    
    // This is an example of receiving data and converting it to javaScript object.
    // First, declare a variable to store the incoming data.
    var myJSON = '{ "list":"Fiesta", "item":"soda", "Quant":4 }';
    // this is a javaScript built in function to convert string into javaScript object
    // JSON.parse(); we have to pass the json text data into a new variable, JsonObject
    var JsonObject = JSON.parse(myJSON);
    // you can access any of the values in the object by calling the variable's name and 
    // then use the "." to get the element you want and the value will be requested. 
    // Then, using the javaScript we can manipulate the data and use it as we wish.
    // Here I'm passing the values of "list" and "item" to the paragraph above with the 
    // getElementById method of javaScript. 
    document.getElementById("testJson").innerHTML=
                "List name: "+JsonObject.list+"<br>"+
                "Item name: "+JsonObject.item+"<br>"+
                "Number of items: "+JsonObject.Quant;
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
        // I copy the script below from w3scools.com 
        // It shows how to store data and retrieve it. 
    var myObj, myJSON, text, obj;

        //Storing data:
        myObj = { "name":"John", "age":31, "city":"New York" };
        myJSON = JSON.stringify(myObj);
        localStorage.setItem("storeJSON", myJSON);

        //Retrieving data:
        text = localStorage.getItem("storeJSON");
        obj = JSON.parse(text);
        document.getElementById("otherJSON").innerHTML = 
                    "Person name: "+obj.name+"<br>"+
                    "Person age: "+obj.age+"<br>"+
                    "Person Origen: "+obj.city;
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////
        // This is a JSON object "employee" with some attributes and values. 
     var e = {"employee":{ "name":"John", "age":30, "city":"Arizona" }};
            document.getElementById("JSONobj").innerHTML =
                    e.employee.name+" from "+e.employee.city;
        // JSON arrays
     var array = {"fruits" : ["apple","orange","banana"]};
            // Access the array by using the index value with the []
            document.getElementById("JSONarray").innerHTML = array.fruits[1];
            
            // Or with loops
            // This variable is needed to create a blank space for the array values
            var x = "";
            // This is a "for-in" loop
            for (i in array.fruits){
                x += array.fruits[i]+", ";
            }
            document.getElementById("arrayLoop").innerHTML = x;
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////           
    // Here I will use the JSON.stringify(); to convert a JavaScript object to string
    // so it can be send to a server as plain text.
    var JSobject = { "season":"Spring", "temperature":82, "location":"AZ" };
    // If I don't use this method the object is not even transferable. 
    var stringIt = JSON.stringify(JSobject);
    document.getElementById("string").innerHTML= stringIt;
    
</script>
        
        
<div> 
</div>
</body>
</html>
